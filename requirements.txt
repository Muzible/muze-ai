# =============================================================================
# Muzible Muze AI - Requirements
# =============================================================================
# Installation: pip install -r requirements.txt
# 
# ⚠️  REQUIRED SYSTEM DEPENDENCIES (before pip install):
# -----------------------------------------------------------------------------
# macOS:   brew install espeak-ng ffmpeg
# Linux:   apt install espeak-ng ffmpeg libsndfile1
# Windows: Download espeak-ng from https://github.com/espeak-ng/espeak-ng/releases
# -----------------------------------------------------------------------------
# espeak-ng is REQUIRED for G2P (especially for Polish!)
# =============================================================================

# =====================
# CORE (required)
# =====================
torch>=2.0.0
torchaudio>=2.0.0
transformers>=4.30.0
numpy>=1.24.0
scipy>=1.10.0
einops>=0.6.0
tqdm>=4.65.0

# =====================
# AUDIO PROCESSING
# =====================
librosa>=0.10.0
soundfile>=0.12.0

# =====================
# TEXT ENCODER (T5/CLAP)
# =====================
sentencepiece>=0.1.99      # Required by T5
huggingface-hub>=0.14.0

# =====================
# VOCODER (mel -> audio)
# =====================
vocos>=0.1.0               # Mel to audio vocoder (24kHz)

# =====================
# DATASET PROCESSING
# =====================
pandas>=2.0.0
mutagen>=1.46.0            # MP3 metadata (ID3 tags)

# =====================
# TRAINING & MONITORING
# =====================
wandb>=0.15.0              # Experiment tracking (optional)
accelerate>=0.20.0         # Multi-GPU training

# =====================
# WHISPER (vocal detection & transcription)
# =====================
openai-whisper>=20231117   # Original Whisper (we use large-v3!)
# faster-whisper>=0.10.0   # CTranslate2 (faster, but different API)

# =====================
# VOICE EMBEDDINGS
# =====================
resemblyzer>=0.1.3         # Lighter (256-dim) - RECOMMENDED for style transfer
speechbrain>=0.5.15        # More accurate (192-dim ECAPA-TDNN) - for voice cloning

# =====================
# VOCAL SEPARATION (dla voice cloning)
# =====================
demucs>=4.0.0              # Facebook htdemucs (best quality)
# spleeter>=2.4.0          # Alternative (older)

# =====================
# VOICE CLONING / TTS
# =====================
TTS>=0.22.0                # Coqui XTTS v2 (open source)

# =====================
# G2P - GRAPHEME TO PHONEME (required!)
# =====================
phonemizer>=3.2.0          # Universal G2P with espeak-ng backend (140+ languages!)
gruut>=2.2.0               # G2P for selected languages (better quality)
# Gruut language packages (all available):
gruut-lang-en>=2.0.0       # English
gruut-lang-de>=2.0.0       # German  
gruut-lang-es>=2.0.0       # Spanish
gruut-lang-fr>=2.0.0       # French
gruut-lang-it>=2.0.0       # Italian
gruut-lang-ru>=2.0.0       # Russian
gruut-lang-nl>=2.0.0       # Dutch
gruut-lang-cs>=2.0.0       # Czech
gruut-lang-sv>=2.0.0       # Swedish
gruut-lang-ar>=2.0.0       # Arabic
gruut-lang-fa>=2.0.0       # Farsi/Persian
gruut-lang-sw>=2.0.0       # Swahili
gruut-lang-lb>=2.0.0       # Luxembourgish
# NOTE: Polish uses phonemizer+espeak-ng (Gruut doesn't support Polish!)
# Install espeak-ng: brew install espeak-ng (macOS) / apt install espeak-ng (Linux)

# =====================
# CLAP - Audio-Text Embeddings
# =====================
# laion/clap-htsat-unfused via transformers (już w CORE)

# =====================
# F0/PITCH EXTRACTION (singing voice cloning)
# =====================
crepe>=0.0.16              # Deep learning F0 (most accurate, default)
# tensorflow or tensorflow-macos required for CREPE
# PYIN is built into librosa as fallback

# =====================
# LLM BACKENDS (prompt generation)
# =====================
openai>=1.0.0              # GPT-4 / GPT-3.5
requests>=2.28.0           # Ollama API
# anthropic>=0.18.0        # Claude (optional)

# =====================
# OPTIONAL / ALTERNATIVES
# =====================
# openl3>=0.4.1            # Audio embeddings (512-dim) - alternative to resemblyzer
